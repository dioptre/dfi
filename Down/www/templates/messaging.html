<ion-view view-title="Event Chat">
    <ion-content>

        <div class="list card" ng-click="expanded=!expanded">
          <div class="item item-avatar">
            <img ng-src="{{tweet.user.profile_image_url}}">
            <p>
              <strong>@{{tweet.user.screen_name}}</strong>
            </p>
            <p>{{tweet.created_at | ngdate | date : 'medium'}}</p>
            <p>
              <small ng-click="$event.stopPropagation()">
              {{(event.members | count) || 1 }} Member(s)
               <i class="icon ion-ios-star" ng-show="favorited"></i>
                <a ng-repeat-start="tag in tweet.entities.hashtags | tags" ui-sref="tab.home-tag({tag:tag})">#{{tag}}</a><span ng-repeat-end ng-if="!$last">, </span>
              </small>
            </p>
            <h2>
              <i class="icon ion-ios-location-outline padding"></i>
              {{tweet.text}}
            </h2>
          </div>
          <div class="item item-image" ng-if="expanded&&tweet.coordinates.coordinates[1]">
            <map zoom="16" lat="tweet.coordinates.coordinates[1]" long="tweet.coordinates.coordinates[0]"></map>
          </div>
        </div>
        <ion-list>
			<div ng-repeat="message in messages" class='padding' ng-class="{'onto-right':$odd,'onto-left':$even}">
	            <img ng-src="{{message.sender.profile_image_url}}" class='padding' /> <strong>{{message.sender.screen_name}}  </strong>
	            <p class='padding'>{{message.text}}</p>
	            <small class='padding'>{{message.created_at | ngdate | date: 'short'}}</small>
	        </div>
    	</ion-list>
		
        <form ng-submit="message()">

		  <div class="item item-input-inset">
		    <label class="item-input-wrapper">
		      <input type="text" placeholder="Message Here" ng-model="newMessage.text">
		    </label>
		    <button class="button button-clear button-small">
		      Submit
		    </button>
		  </div>

		</form>

  	</ion-content>
</ion-view>
